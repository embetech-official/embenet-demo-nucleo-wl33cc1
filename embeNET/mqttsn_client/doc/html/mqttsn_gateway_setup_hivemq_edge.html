<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>embeNET MQTT-SN Client: MQTT-SN Gateway setup using HiveMQ Edge</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">embeNET MQTT-SN Client<span id="projectnumber">&#160;1.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('mqttsn_gateway_setup_hivemq_edge.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">MQTT-SN Gateway setup using HiveMQ Edge</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md0">Introduction</a></li>
<li class="level1"><a href="#autotoc_md1">Step 1: Download and install HiveMQ Edge</a></li>
<li class="level1"><a href="#autotoc_md2">Step 2: Enable IPv6 support</a></li>
<li class="level1"><a href="#autotoc_md3">Step 3: Configure the gateway</a></li>
<li class="level1"><a href="#autotoc_md4">Step 4: Start the gateway</a></li>
<li class="level1"><a href="#autotoc_md5">Support</a></li>
</ul>
</div>
<div class="textblock"><p><b>These instructions were tested with HiveMQ Edge version 2024-09. Note that if you're using other version there may be differences.</b></p>
<p>This is a simple tutorial showing how to set up a MQTT-SN gateway using <a href="hivemq.com/products/hivemq-edge/">HiveMQ Edge</a>.</p>
<p>This step is usually needed if you want to use the <a href="https://embe.net/docs/?q=doxyview/embeNET%20MQTT-SN%20Client">MQTT-SN client for embeNET</a>.</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Introduction</h1>
<p>In this simple tutorial we will set up the HiveMQ Edge as MQTT-SN Gateway. HiveMQ Edge is a product by <a href="https://www.hivemq.com/">HiveMQ</a> availabe as open source software. The software is distributed using Apache License and is available for Linux and Windows operating systems.</p>
<p>This MQTT-SN Gateway service we will set up allows to translate the UDP-based MQTT-SN communication to a standard TCP-based MQTT protocol. The job of the gateway is to connect MQTT-SN enabled clients to a standard MQTT broker. in this turotial we will use a popular mosquitto test broker avaliable at <a href="https://test.mosquitto.org">test.mosquitto.org</a>.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Step 1: Download and install HiveMQ Edge</h1>
<p>Follow the official instructions on how to download and install the HiveMQ Edge from <a href="https://docs.hivemq.com/hivemq-edge/index.html">here</a>.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Step 2: Enable IPv6 support</h1>
<p>In order to use IPv6 we need to modify the run script. If you are using Windows you need to edit the <em>run.bat</em> file and add this line: </p><div class="fragment"><div class="line">set &quot;JAVA_OPTS=-Djava.net.preferIPv4Stack=false %JAVA_OPTS%&quot;</div>
</div><!-- fragment --><p>If you are using Linux you need to edit the <em>run.sh</em> file and add this line: </p><div class="fragment"><div class="line">JAVA_OPTS=&quot;-Djava.net.preferIPv4Stack=false $JAVA_OPTS&quot;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Step 3: Configure the gateway</h1>
<p>The HiveMQ Edge Gateway is configured using the <em>conf/config.xml</em> file. You can download the configuration file for this tutorial here: <a href="config.xml">config.xml</a>.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Step 4: Start the gateway</h1>
<p>To start the gateway simply run the <em>run.bat</em> or <em>run.sh</em> script.</p>
<p>Once started the gateway can be accessed through a web inteface at default port 8080. Open the <a href="http://localhost:8080">http://localhost:8080</a> URL and you should see the web interface. The default username and password is <em>admin / password</em> (can be changed in the config.xml file). Within the web interface you can go to MQTT Bridges to see if the bridge to the mosquitto broker is established.</p>
<p>During the startup look for the following log messages indicataing that the gateway is started and the bridge to the mosquitto broker is established: </p><div class="fragment"><div class="line">INFO  - Starting adapters</div>
<div class="line">INFO  - Started MQTT-SN UDP Listener on address :: and on port 1885</div>
<div class="line">WARN  - Server overwrote the Client Identifier  with auto-648E464D-D53D-E628-F1A1-810516932BDC</div>
<div class="line">INFO  - Started WebServer with protocol &#39;http&#39; on port 8080 in 627ms</div>
<div class="line">INFO  - Started HiveMQ Edge in 2774ms</div>
<div class="line">INFO  - Bridge &#39;mosquitto&#39; to remote broker test.mosquitto.org:1884 started in 1054ms.</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5"></a>
Support</h1>
<p>If you have any questions or need help with the setup please <a href="https://embe.net/#contact-us">contact us</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Feb 1 2025 17:52:12 for embeNET MQTT-SN Client by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
